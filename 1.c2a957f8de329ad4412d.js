webpackJsonp([1],{252:function(n,a,s){"use strict";function t(n){return n&&n.__esModule?n:{default:n}}Object.defineProperty(a,"__esModule",{value:!0});var p=s(1),e=t(p),o=s(254),c=t(o),u=s(281),i=t(u),l=s(278),r=t(l),k=s(279),d=t(k),f=s(280),h=t(f),m=s(283),g=t(m),y=s(284),v=t(y),b=s(285),j=t(b),q=s(282),w=t(q),S=s(262),x=t(S),P=s(261),_=t(P),M=s(264),L=t(M),T=s(263),H=t(T),E=function(n){return e.default.createElement("div",null,e.default.createElement("div",{dangerouslySetInnerHTML:{__html:i.default}}),e.default.createElement("div",{dangerouslySetInnerHTML:{__html:r.default}}),e.default.createElement(c.default,null,x.default),e.default.createElement("div",{dangerouslySetInnerHTML:{__html:d.default}}),e.default.createElement(c.default,null,_.default),e.default.createElement("div",{dangerouslySetInnerHTML:{__html:h.default}}),e.default.createElement("div",{dangerouslySetInnerHTML:{__html:g.default}}),e.default.createElement(c.default,null,L.default),e.default.createElement("div",{dangerouslySetInnerHTML:{__html:v.default}}),e.default.createElement(c.default,null,H.default),e.default.createElement("div",{dangerouslySetInnerHTML:{__html:j.default}}),e.default.createElement("div",{dangerouslySetInnerHTML:{__html:w.default}}))};a.default=E},254:function(n,a,s){"use strict";function t(n){return n&&n.__esModule?n:{default:n}}function p(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}function e(n,a){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!=typeof a&&"function"!=typeof a?n:a}function o(n,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);n.prototype=Object.create(a&&a.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(n,a):n.__proto__=a)}Object.defineProperty(a,"__esModule",{value:!0});var c=function(){function n(n,a){for(var s=0;s<a.length;s++){var t=a[s];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}return function(a,s,t){return s&&n(a.prototype,s),t&&n(a,t),a}}(),u=s(1),i=t(u),l=s(101),r=t(l),k=function(n){function a(){p(this,a);var n=e(this,(a.__proto__||Object.getPrototypeOf(a)).call(this));return n.state={width:70,loadCss:!1},n.updatePrintWidth=n.updatePrintWidth.bind(n),n}return o(a,n),c(a,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.updatePrintWidth),this.updatePrintWidth()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updatePrintWidth)}},{key:"updatePrintWidth",value:function(){this.setState({loadCss:!0,width:Math.max(40,Math.floor(Math.min(600,this.code.offsetWidth)/8.5))})}},{key:"shouldComponentUpdate",value:function(n,a){return this.props.lang!==n.lang||this.props.children!==n.children||this.state.width!==a.width||this.state.loadCss!==a.loadCss}},{key:"getCode",value:function(n){var a=this;return n.find(function(s,t){var p=s.printWidth;return p<=a.state.width||t===n.length-1}).code}},{key:"render",value:function(){var n=this;return i.default.createElement("pre",{className:"language-"+(this.props.lang||"jsx"),ref:function(a){n.code=a}},this.state.loadCss&&i.default.createElement(r.default,{link:[{rel:"stylesheet",href:"/css/prism-onedark.css"}]}),i.default.createElement("code",{dangerouslySetInnerHTML:{__html:this.getCode(this.props.children)}}))}}]),a}(i.default.Component);a.default=k},261:function(n,a){n.exports=[{printWidth:70,tabwidth:2,code:'<span class="token keyword">const</span> createRouteFromPath <span class="token operator">=</span> paths <span class="token operator">=</span><span class="token operator">></span> pagePath <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> <span class="token template-string"><span class="token string">`\n    &lt;Route\n      exact\n      path=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>JSON<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token function">makeUrl</span><span class="token punctuation">(</span>pagePath<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">\n      component={require(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>JSON<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>pagePath<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)}\n    />\n  `</span></span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n'},{printWidth:45,tabwidth:1,code:'<span class="token keyword">const</span> createRouteFromPath <span class="token operator">=</span> paths <span class="token operator">=</span><span class="token operator">></span>\n pagePath <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> <span class="token template-string"><span class="token string">`\n    &lt;Route\n      exact\n      path=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>JSON<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>\n   <span class="token function">makeUrl</span><span class="token punctuation">(</span>pagePath<span class="token punctuation">)</span>\n  <span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">\n      component={require(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>JSON<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>\n   pagePath\n  <span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)}\n    />\n  `</span></span><span class="token punctuation">;</span>\n <span class="token punctuation">}</span><span class="token punctuation">;</span>\n'}]},262:function(n,a){n.exports=[{printWidth:70,tabwidth:2,code:'<span class="token comment" spellcheck="true">// https://github.com/JulienPradet/blog-posts/blob/5fa44165595e9fdcf00a4dad1cf52ccfc7e046a2/src/generator/app/readPages.js</span>\n<span class="token keyword">const</span> readPages <span class="token operator">=</span> path <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> fs\n    <span class="token punctuation">.</span><span class="token function">readdir</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">flatMap</span><span class="token punctuation">(</span>files <span class="token operator">=</span><span class="token operator">></span> files<span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">flatMap</span><span class="token punctuation">(</span>filepath <span class="token operator">=</span><span class="token operator">></span> fs<span class="token punctuation">.</span><span class="token function">stat</span><span class="token punctuation">(</span>filepath<span class="token punctuation">)</span><span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">{</span> filepath<span class="token punctuation">,</span> stats <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">(</span><span class="token punctuation">{</span>\n      filepath<span class="token punctuation">,</span>\n      isDirectory<span class="token punctuation">:</span> stats<span class="token punctuation">.</span><span class="token function">isDirectory</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>\n      <span class="token punctuation">(</span><span class="token punctuation">{</span> filepath<span class="token punctuation">,</span> isDirectory <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span>\n        isDirectory <span class="token operator">||</span> filepath<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">"index.js"</span><span class="token punctuation">)</span>\n    <span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">flatMap</span><span class="token punctuation">(</span>\n      <span class="token punctuation">(</span><span class="token punctuation">{</span> filepath<span class="token punctuation">,</span> isDirectory <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span>\n        isDirectory <span class="token operator">?</span> <span class="token function">readPages</span><span class="token punctuation">(</span>filepath<span class="token punctuation">)</span> <span class="token punctuation">:</span> Observable<span class="token punctuation">.</span><span class="token keyword">of</span><span class="token punctuation">(</span>filepath<span class="token punctuation">)</span>\n    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n'},{printWidth:45,tabwidth:1,code:'<span class="token comment" spellcheck="true">// https://github.com/JulienPradet/blog-posts/blob/5fa44165595e9fdcf00a4dad1cf52ccfc7e046a2/src/generator/app/readPages.js</span>\n<span class="token keyword">const</span> readPages <span class="token operator">=</span> path <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>\n <span class="token keyword">return</span> fs\n  <span class="token punctuation">.</span><span class="token function">readdir</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span>\n  <span class="token punctuation">.</span><span class="token function">flatMap</span><span class="token punctuation">(</span>files <span class="token operator">=</span><span class="token operator">></span> files<span class="token punctuation">)</span>\n  <span class="token punctuation">.</span><span class="token function">flatMap</span><span class="token punctuation">(</span>filepath <span class="token operator">=</span><span class="token operator">></span> fs<span class="token punctuation">.</span><span class="token function">stat</span><span class="token punctuation">(</span>filepath<span class="token punctuation">)</span><span class="token punctuation">)</span>\n  <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">{</span> filepath<span class="token punctuation">,</span> stats <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">(</span><span class="token punctuation">{</span>\n   filepath<span class="token punctuation">,</span>\n   isDirectory<span class="token punctuation">:</span> stats<span class="token punctuation">.</span><span class="token function">isDirectory</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n  <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>\n   <span class="token punctuation">(</span><span class="token punctuation">{</span> filepath<span class="token punctuation">,</span> isDirectory <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span>\n    isDirectory <span class="token operator">||</span>\n     filepath<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">"index.js"</span><span class="token punctuation">)</span>\n  <span class="token punctuation">)</span>\n  <span class="token punctuation">.</span><span class="token function">flatMap</span><span class="token punctuation">(</span>\n   <span class="token punctuation">(</span><span class="token punctuation">{</span> filepath<span class="token punctuation">,</span> isDirectory <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span>\n    isDirectory\n     <span class="token operator">?</span> <span class="token function">readPages</span><span class="token punctuation">(</span>filepath<span class="token punctuation">)</span>\n     <span class="token punctuation">:</span> Observable<span class="token punctuation">.</span><span class="token keyword">of</span><span class="token punctuation">(</span>filepath<span class="token punctuation">)</span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n'}]},263:function(n,a){n.exports=[{printWidth:70,tabwidth:2,code:'<span class="token keyword">const</span> renderPageToHtml <span class="token operator">=</span> paths <span class="token operator">=</span><span class="token operator">></span> pagePath <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>\n  <span class="token keyword">let</span> location <span class="token operator">=</span> <span class="token function">makeUrl</span><span class="token punctuation">(</span>pagePath<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">const</span> context <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">const</span> server <span class="token operator">=</span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>StaticRouter</span> <span class="token attr-name">location</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>location<span class="token punctuation">}</span></span> <span class="token attr-name">context</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>context<span class="token punctuation">}</span></span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>App</span> <span class="token punctuation">/></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>StaticRouter</span><span class="token punctuation">></span></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">const</span> htmlContent <span class="token operator">=</span> <span class="token function">renderToString</span><span class="token punctuation">(</span>appWithAsyncComponents<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">const</span> head <span class="token operator">=</span> Helmet<span class="token punctuation">.</span><span class="token function">rewind</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> topHead <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>head<span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>key <span class="token operator">=</span><span class="token operator">></span> key <span class="token operator">!==</span> <span class="token string">"script"</span><span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>key <span class="token operator">=</span><span class="token operator">></span> head<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">return</span> <span class="token function">renderToString</span><span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span> <span class="token attr-name">dangerouslySetInnerHTML</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> __html<span class="token punctuation">:</span> topHead <span class="token punctuation">}</span><span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>root<span class="token punctuation">"</span></span> <span class="token attr-name">dangerouslySetInnerHTML</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> __html<span class="token punctuation">:</span> html <span class="token punctuation">}</span><span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token function">makeJsUrl</span><span class="token punctuation">(</span>pagePath<span class="token punctuation">)</span><span class="token punctuation">}</span></span> <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>key<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n'},{printWidth:45,tabwidth:1,code:'<span class="token keyword">const</span> renderPageToHtml <span class="token operator">=</span> paths <span class="token operator">=</span><span class="token operator">></span>\n pagePath <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>\n  <span class="token keyword">let</span> location <span class="token operator">=</span> <span class="token function">makeUrl</span><span class="token punctuation">(</span>pagePath<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">const</span> context <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">const</span> server <span class="token operator">=</span> <span class="token punctuation">(</span>\n   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>StaticRouter</span>\n    <span class="token attr-name">location</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>location<span class="token punctuation">}</span></span>\n    <span class="token attr-name">context</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>context<span class="token punctuation">}</span></span>\n   <span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>App</span> <span class="token punctuation">/></span></span>\n   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>StaticRouter</span><span class="token punctuation">></span></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">const</span> htmlContent <span class="token operator">=</span> <span class="token function">renderToString</span><span class="token punctuation">(</span>\n   appWithAsyncComponents\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">const</span> head <span class="token operator">=</span> Helmet<span class="token punctuation">.</span><span class="token function">rewind</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> topHead <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>head<span class="token punctuation">)</span>\n   <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>key <span class="token operator">=</span><span class="token operator">></span> key <span class="token operator">!==</span> <span class="token string">"script"</span><span class="token punctuation">)</span>\n   <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>key <span class="token operator">=</span><span class="token operator">></span> head<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n   <span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">return</span> <span class="token function">renderToString</span><span class="token punctuation">(</span>\n   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span>\n     <span class="token attr-name">dangerouslySetInnerHTML</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>\n      __html<span class="token punctuation">:</span> topHead\n     <span class="token punctuation">}</span><span class="token punctuation">}</span></span>\n    <span class="token punctuation">/></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>\n     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>\n      <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>root<span class="token punctuation">"</span></span>\n      <span class="token attr-name">dangerouslySetInnerHTML</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>\n       __html<span class="token punctuation">:</span> html\n      <span class="token punctuation">}</span><span class="token punctuation">}</span></span>\n     <span class="token punctuation">/></span></span>\n     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span>\n      <span class="token attr-name">src</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token function">makeJsUrl</span><span class="token punctuation">(</span>pagePath<span class="token punctuation">)</span><span class="token punctuation">}</span></span>\n      <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>key<span class="token punctuation">}</span></span>\n     <span class="token punctuation">/></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>\n   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n <span class="token punctuation">}</span><span class="token punctuation">;</span>\n'}]},264:function(n,a){n.exports=[{printWidth:70,tabwidth:2,code:'module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>\n  entry<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n    server<span class="token punctuation">:</span> <span class="token string">"build/server.js"</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  target<span class="token punctuation">:</span> <span class="token string">"node"</span><span class="token punctuation">,</span>\n  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n    libraryTarget<span class="token punctuation">:</span> <span class="token string">"commonjs2"</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n'},{printWidth:45,tabwidth:1,code:'module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>\n entry<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n  server<span class="token punctuation">:</span> <span class="token string">"build/server.js"</span>\n <span class="token punctuation">}</span><span class="token punctuation">,</span>\n target<span class="token punctuation">:</span> <span class="token string">"node"</span><span class="token punctuation">,</span>\n output<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n  libraryTarget<span class="token punctuation">:</span> <span class="token string">"commonjs2"</span>\n <span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n'}]},278:function(n,a){n.exports='<h2 id="automatiser-lajout-des-pages"><a class="header-anchor" href="#automatiser-lajout-des-pages" aria-hidden="true">#</a> Automatiser l\'ajout des pages</h2>\n<p>C\'est une technique que j\'avais déjà mis en place sur <a href="">Pigment-Store</a>. Le principe consiste à lire le système de fichier pour récupérer tous les fichiers qui nous intéressent. Dans mon cas, ce sont tous les fichiers <code>index.js</code> dans le dossier <code>src/content</code>. Ici encore, RxJS simplifie le travail.</p>\n<p>Voici, par exemple, comment je récupère l\'ensemble des pages :</p>\n'},279:function(n,a){n.exports="<p>Une fois que j'ai récupéré toutes les pages, il ne me reste qu'à transformer ces pages en <code>Route</code> ingérable par <code>react-router</code>.</p>\n"},280:function(n,a){n.exports="<p>Je peux ensuite créer entièrement mon point d'entrée en concaténant les différentes routes et en sauvegardant le tout dans un fichier temporaire. C'est ce fichier que je vais ensuite passer à webpack.</p>\n<p>La génération du point d'entrée est vraiment très utile et pratique pour créer des outils qui améliorent notre quotidien. L'inconvénient cependant est que la lecture de la structure de l'application est cachée par l'outil. A utiliser avec précaution, donc.</p>\n"},281:function(n,a){n.exports="<p>Je vous présente mon nouveau blog !</p>\n<blockquote>\n<p>– Déjà ? Mais ça fait un mois que tu as ouvert ton blog, non ?!<br>\n– Ouais et en plus tu as juste ajouté des icones en haut à gauche…</p>\n</blockquote>\n<p>En vrai, c'est un petit peu plus que ça. J'ai fait mon propre générateur de site statique. Pourquoi ? Parce que j'aime bien réinventer la roue. Mais aussi et surtout parce que j'avais besoin d'un petit peu plus que ce que me proposait <a href=\"\">Phenomic</a> (qui est au passage très pratique pour de vrais sites statiques).</p>\n<p><em>Les étapes ne sont pas très détaillées parce que je parle plus de comment j'en suis arrivé là que de la solution technique. Cependant, si pour vous certains points mériteraient d'être approfondis, n'hésite pas à me suggérer une idée d'article :)</em></p>\n<h2 id=\"quelles-contraintes\"><a class=\"header-anchor\" href=\"#quelles-contraintes\" aria-hidden=\"true\">#</a> Quelles contraintes ?</h2>\n<p>Voici la liste des contraintes que je me suis fixé :</p>\n<ul>\n<li>Créer une nouvelle page doit être équivalent à créer un nouveau fichier</li>\n<li>Les pages doivent être facilement crawlable pour le SEO</li>\n<li>Des éléments complexes doivent pouvoir être mis au milieu des pages\n<ul>\n<li>Exemples de code responsive</li>\n<li>Demos</li>\n</ul>\n</li>\n<li>Le poids des pages et le temps de chargement doivent rester minimaux</li>\n<li>Ecrire les pages en React (parce que c'est rigolo)</li>\n<li>Apprendre plein de choses (parce que c'est rigolo aussi)</li>\n</ul>\n<p>Du coup, comment ça marche ?</p>\n<h2 id=\"quelles-sont-les-etapes\"><a class=\"header-anchor\" href=\"#quelles-sont-les-etapes\" aria-hidden=\"true\">#</a> Quelles sont les étapes ?</h2>\n<p>Une fois les contraintes connues, je me suis demandé comment j'aurais créé un site React sans me préoccupé de l'automatisation :</p>\n<ol>\n<li>Je crée un fichier JS qui sert de point d'entrée à React</li>\n<li>J'ajoute une par une chaque page à ce fichier</li>\n<li>Je le transforme en bundle via webpack</li>\n<li>Je récupère le contenu de chaque page pour faire mes fichiers HTML</li>\n<li>J'ajoute les autres éléments statiques (images, css, etc.)</li>\n</ol>\n<p>Cela m'a permis d'une part de voir quels seraient mes jalons pour ne pas avoir le syndrome de la page blanche. D'autre part j'ai pu identifier quels points seraient important à automatiser et qu'est ce que je pourrais reprendre d'autres projets :</p>\n<ul>\n<li>L'ajout des pages au point d'entrée doit être automatisé</li>\n<li>La transformation en contenus HTML est en fait du <abbr title=\"Server Side Rendering\">SSR</abbr> que je peux récupérer d'ailleurs</li>\n</ul>\n<p>Par ailleurs, pour gérer l'enchaînement des étapes, j'ai choisi d'utiliser <a href=\"\">RxJS</a> qui brille pour ce cas d'usage. D'ailleurs, entre temps, il y a <a href=\"https://strongloop.com/strongblog/lets-code-it-static-site-generator-with-rx-js/\">cet article très intéressant qui est sorti</a> qui parle d'à peu près la même chose.</p>\n";
},282:function(n,a){n.exports='<h2 id="optimisations"><a class="header-anchor" href="#optimisations" aria-hidden="true">#</a> Optimisations</h2>\n<p>Le problème de vouloir faire une appli en React pour un blog, c\'est que nécessairement, c\'est plus lourd qu\'une bête page HTML. J\'ai donc du faire des efforts pour améliorer tout ça.</p>\n<h3 id="ameliorer-le-premier-affichage-de-la-page"><a class="header-anchor" href="#ameliorer-le-premier-affichage-de-la-page" aria-hidden="true">#</a> Améliorer le premier affichage de la page</h3>\n<p>La première chose à faire sur ce point est de décaler le chargement de tout ce qui n\'est pas nécessaire. Notamment, lorsqu\'il s\'agit d\'une application React, c\'est de décaler le chargement des <code>scripts</code>. Pour ce faire, il suffit d\'ajouter l\'attribut <code>async</code> (ou <code>defer</code> selon votre besoin) sur vos balises, et c\'est gagné.</p>\n<p>Je suis passé de 200ms à 120ms sur une page complexe avec beaucoup d\'exemples de code.</p>\n<h3 id=""><a class="header-anchor" href="#" aria-hidden="true">#</a> </h3>\n'},283:function(n,a){n.exports="<h2 id=\"creation-des-pages-html\"><a class=\"header-anchor\" href=\"#creation-des-pages-html\" aria-hidden=\"true\">#</a> Création des pages HTML</h2>\n<p>Maintenant que j'ai automatisé la création de mon point d'entrée, je vais pouvoir automatiser la création de mes pages HTML. L'idée va être d'utiliser les mêmes techniques que pour le Server Side Rendering (SSR), mais de directement faire le rendu d'une page, plutôt que d'attendre la requête d'un utilisateur.</p>\n<p>Pour faire du SSR, on fait appel à la fonction <code>renderToString</code> de React en lui passant le point d'entrée de notre application. Le problème, c'est que si on fait un <code>require</code> sur celui-ci, cela ne marche pas directement. En effet, j'utilise dans mon application des fonctionnalités qui ne sont pas compatibles avec l'environnement de node (ex : <code>import</code> de modules, import de fichiers <code>.md</code>, etc.). La solution est de compiler le point d'entrée avec webpack pour le rendre compatible avec node.</p>\n"},284:function(n,a){n.exports="<p>Dans mon point d'entrée, je peux alors faire le rendu de chacune des pages HTML en m'inspirant de ce qui est proposé dans <a href=\"https://reacttraining.com/react-router/#staticrouter\">la documentation de React Router</a>.</p>\n<p>A noter tout de même que j'utilise en plus <a href=\"\">react-helmet</a> qui est une librairie qui prend en charge la gestion de tout ce qui est censé être dans le <code>head</code> d'une page HTML.</p>\n"},285:function(n,a){n.exports="<p>En ayant résolu ces deux points que sont la création automatique des pages et la création des HTMLs résultants, il ne reste plus qu'à s'occuper des fichiers statiques.</p>\n<p>Au début, je voulais le faire avec webpack, mais finalement, c'était trop de complications pour rien. Je me suis donc contenté de faire un copié collé de mon répertoire où il y l'ensemble des fichiers publics dans le répertoire de <code>build</code>.</p>\n"}});
//# sourceMappingURL=1.c2a957f8de329ad4412d.js.map