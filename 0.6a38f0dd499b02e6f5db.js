webpackJsonp([0],{250:function(n,e,a){"use strict";function s(n){return n&&n.__esModule?n:{default:n}}Object.defineProperty(e,"__esModule",{value:!0});var t=a(1),o=s(t),p=a(256),i=s(p),l=a(273),u=s(l),r=a(274),c=s(r),d=a(269),m=s(d),k=a(270),f=s(k),h=a(271),g=s(h),v=a(258),b=s(v),y=a(257),q=s(y),w=a(272),S=s(w),_=a(275),C=s(_),M=a(276),E=s(M),x=a(260),P=s(x),j=a(259),T=s(j),L=a(255),O=s(L),W=function(n){return o.default.createElement("div",null,o.default.createElement("div",{dangerouslySetInnerHTML:{__html:u.default}}),o.default.createElement("div",{dangerouslySetInnerHTML:{__html:c.default}}),o.default.createElement("div",{dangerouslySetInnerHTML:{__html:m.default}}),o.default.createElement(O.default,null),o.default.createElement("div",{dangerouslySetInnerHTML:{__html:f.default}}),o.default.createElement(i.default,{tabs:[{label:"Simplifi√©",code:b.default},{label:"Complet",code:q.default}]}),o.default.createElement("div",{dangerouslySetInnerHTML:{__html:g.default}}),o.default.createElement("div",{dangerouslySetInnerHTML:{__html:S.default}}),o.default.createElement("div",{dangerouslySetInnerHTML:{__html:C.default}}),o.default.createElement(i.default,{tabs:[{label:"HTML",code:P.default},{label:"CSS",code:T.default}]}),o.default.createElement("div",{dangerouslySetInnerHTML:{__html:E.default}}))};e.default=W},254:function(n,e,a){"use strict";function s(n){return n&&n.__esModule?n:{default:n}}function t(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function o(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?n:e}function p(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function n(n,e){for(var a=0;a<e.length;a++){var s=e[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(n,s.key,s)}}return function(e,a,s){return a&&n(e.prototype,a),s&&n(e,s),e}}(),l=a(1),u=s(l),r=a(101),c=s(r),d=function(n){function e(){t(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.state={width:70,loadCss:!1},n.updatePrintWidth=n.updatePrintWidth.bind(n),n}return p(e,n),i(e,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.updatePrintWidth),this.updatePrintWidth()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updatePrintWidth)}},{key:"updatePrintWidth",value:function(){this.setState({loadCss:!0,width:Math.max(40,Math.floor(Math.min(600,this.code.offsetWidth)/8.5))})}},{key:"shouldComponentUpdate",value:function(n,e){return this.props.lang!==n.lang||this.props.children!==n.children||this.state.width!==e.width||this.state.loadCss!==e.loadCss}},{key:"getCode",value:function(n){var e=this;return n.find(function(a,s){var t=a.printWidth;return t<=e.state.width||s===n.length-1}).code}},{key:"render",value:function(){var n=this;return u.default.createElement("pre",{className:"language-"+(this.props.lang||"jsx"),ref:function(e){n.code=e}},this.state.loadCss&&u.default.createElement(c.default,{link:[{rel:"stylesheet",href:"/css/prism-onedark.css"}]}),u.default.createElement("code",{dangerouslySetInnerHTML:{__html:this.getCode(this.props.children)}}))}}]),e}(u.default.Component);e.default=d},255:function(n,e,a){"use strict";function s(n){return n&&n.__esModule?n:{default:n}}Object.defineProperty(e,"__esModule",{value:!0});var t=a(1),o=s(t),p=function(){return o.default.createElement("div",{className:"hover-button__wrapper"},o.default.createElement("style",null,"\n      .hover-button__wrapper {\n        text-align: center;\n      }\n      .hover-button {\n        transition: transform 0.3s ease, background 0.3s ease;\n        background: #00c9c9;\n        color: white;\n        padding: 0.5em 2em;\n        display: inline-block;\n        text-align: center;\n        font-size: 1.3em;\n        font-weight: bold;\n        border: 0;\n      }\n      .hover-button:hover, .hover-button:focus {\n        transform: scale(1.2);\n        background: #19e4e4;\n      }\n    "),o.default.createElement("button",{className:"hover-button"},"Hover me!"))};e.default=p},256:function(n,e,a){"use strict";function s(n){return n&&n.__esModule?n:{default:n}}function t(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function o(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?n:e}function p(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function n(n,e){for(var a=0;a<e.length;a++){var s=e[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(n,s.key,s)}}return function(e,a,s){return a&&n(e.prototype,a),s&&n(e,s),e}}(),l=a(1),u=s(l),r=a(254),c=s(r),d=function(n){function e(n){t(this,e);var a=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return a.state={currentTab:0},a}return p(e,n),i(e,[{key:"selectTab",value:function(n){return this.setState.bind(this,{currentTab:n},function(){})}},{key:"render",value:function(){var n=this;return u.default.createElement("div",{className:"code-tab"},u.default.createElement("ul",{className:"code-tab__list"},this.props.tabs.map(function(e,a){var s=e.label;return u.default.createElement("li",{key:a},u.default.createElement("button",{onClick:n.selectTab(a),className:"code-tab__button "+(a===n.state.currentTab?"active":"")},s))})),u.default.createElement(c.default,null,this.props.tabs[this.state.currentTab].code))}}]),e}(u.default.Component);e.default=d},257:function(n,e){n.exports=[{printWidth:70,tabwidth:2,code:'<span class="token selector">button</span> <span class="token punctuation">{</span>\n  <span class="token property">background</span><span class="token punctuation">:</span> #00c9c9<span class="token punctuation">;</span>\n  <span class="token property">transition</span><span class="token punctuation">:</span> transform 0.3s ease,\n    background 0.5s ease<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n<span class="token selector">button:hover, button:focus</span> <span class="token punctuation">{</span>\n  <span class="token property">background</span><span class="token punctuation">:</span> #19e4e4<span class="token punctuation">;</span>\n  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span>1.2<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n'},{printWidth:45,tabwidth:1,code:'<span class="token selector">button</span> <span class="token punctuation">{</span>\n  <span class="token property">background</span><span class="token punctuation">:</span> #00c9c9<span class="token punctuation">;</span>\n  <span class="token property">transition</span><span class="token punctuation">:</span> transform 0.3s ease,\n    background 0.5s ease<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n<span class="token selector">button:hover, button:focus</span> <span class="token punctuation">{</span>\n  <span class="token property">background</span><span class="token punctuation">:</span> #19e4e4<span class="token punctuation">;</span>\n  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span>1.2<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n'}]},258:function(n,e){n.exports=[{printWidth:70,tabwidth:2,code:'<span class="token selector">button</span> <span class="token punctuation">{</span>\n  <span class="token property">transition</span><span class="token punctuation">:</span> transform 0.3s ease<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n<span class="token selector">button:hover, button:focus</span> <span class="token punctuation">{</span>\n  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span>1.2<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n'},{printWidth:45,tabwidth:1,code:'<span class="token selector">button</span> <span class="token punctuation">{</span>\n  <span class="token property">transition</span><span class="token punctuation">:</span> transform 0.3s ease<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n<span class="token selector">button:hover, button:focus</span> <span class="token punctuation">{</span>\n  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span>1.2<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n'}]},259:function(n,e){n.exports=[{printWidth:70,tabwidth:2,code:'<span class="token selector">nav h1</span> <span class="token punctuation">{</span>\n  <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n<span class="token selector">nav li</span> <span class="token punctuation">{</span>\n  <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n'},{printWidth:45,tabwidth:1,code:'<span class="token selector">nav h1</span> <span class="token punctuation">{</span>\n  <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n<span class="token selector">nav li</span> <span class="token punctuation">{</span>\n  <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n'}]},260:function(n,e){n.exports=[{printWidth:70,tabwidth:2,code:'<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nav</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>Titre<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>Menu 1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>Menu 2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>Menu 3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>nav</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>Ma page<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>Lorem ipsum dolor sit amet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>\n'},{printWidth:45,tabwidth:1,code:'<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nav</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>Titre<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>Menu 1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>Menu 2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>Menu 3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>nav</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>Ma page<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>Lorem ipsum dolor sit amet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>\n'}]},269:function(n,e){n.exports="<h2 id=\"comment-faire-des-animations-en-css\"><a class=\"header-anchor\" href=\"#comment-faire-des-animations-en-css\" aria-hidden=\"true\">#</a> Comment faire des animations en CSS¬†?</h2>\n<p>Il existe deux types d'animations en CSS :</p>\n<ul>\n<li><code>transition</code> : une propri√©t√© CSS a chang√©, et le navigateur fait en sorte que le passage de l'ancienne propri√©t√© √† la nouvelle soit fluide</li>\n<li><code>animation</code> : une propri√©t√© CSS change plusieurs fois au cours d'un m√™me mouvement (via des <code>keyframes</code>), et le navigateur fait en sorte de rendre le tout fluide. Ces animations peuvent √™tre r√©p√©t√©es plusieurs fois si n√©cessaire.</li>\n</ul>\n<p>Tout le contenu de cette s√©rie sera valable quelque soit le type d'animation choisi.</p>\n<p>Je ne d√©velopperai pas sur l'usage de  ces propri√©t√©s dans cet article. Cependant, pour que ce soit plus concret pour ceux d'entre vous qui n'ont jamais vu d'animations CSS, voici √† quoi ressemble une <code>transition</code>¬†:</p>\n"},270:function(n,e){n.exports="<p>Pour faire cette transition lors du hover, j'ai utilis√© le CSS suivant¬†:</p>\n"},271:function(n,e){n.exports='<p>Dans la propri√©t√© <code>transition</code>, je d√©finis la <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/transition-property">propri√©t√©</a> qui est animable (<code>transform</code>), la <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/transition-duration">dur√©e</a> de transition (<code>0.3s</code>) et le <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/transition-timing-function">timing</a> de votre transition (<code>ease</code>). Vous pouvez aussi <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/transition-delay">retarder</a> une transition en ajoutant une nouvelle dur√©e apr√®s le timing.</p>\n'},272:function(n,e){n.exports='<h2 id="mais-mes-animations-sont-lentes"><a class="header-anchor" href="#mais-mes-animations-sont-lentes" aria-hidden="true">#</a> Mais mes animations sont lentes¬†!</h2>\n<p>H√©, oui¬†! M√™me si le navigateur fait beaucoup de choses intelligentes √† votre place, il ne peut pas tout faire parfaitement. Et quand on sait qu\'on n\'a que 16.67 milli√®me de secondes pour faire une √©tape de l\'animation et atteindre les 60fps... on se dit qu\'il y a du boulot¬†!</p>\n<p>Pour rendre vos animations rapides, il va falloir se mettre √† la place du navigateur pour comprendre ce qui ne va pas.</p>\n<h2 id="comment-fonctionne-un-navigateur-web"><a class="header-anchor" href="#comment-fonctionne-un-navigateur-web" aria-hidden="true">#</a> Comment fonctionne un navigateur web¬†?</h2>\n<p>Pour afficher une page, un navigateur web doit passer par plusieurs √©tapes.</p>\n<ol>\n<li>\n<p>Tout d\'abord, quand votre page arrive, elle est en <em>HTML</em>. Le navigateur doit la parser pour la transformer en des objets avec lesquels il peut travailler. Ainsi, pour chaque balise HTML est cr√©√© un √©l√©ment du <em>DOM</em> (<em>Document Object Model</em>). (Ce sont ces √©l√©ments du DOM qui sont mis √† disposition en JavaScript.)</p>\n</li>\n<li>\n<p>Place au <em>CSS</em>. Le navigateur va parser les feuilles de style et les transformer en <em>Style Rules</em>. Le but est de faire en sorte que, lors de la prochaine √©tape, il soit rapide de d√©terminer quelles propri√©t√©s CSS s\'appliquent √† chaque √©l√©ment du DOM.</p>\n</li>\n<li>\n<p>Maintenant que le navigateur conna√Æt le contenu et qu\'il sait quelles r√®gles de style appliquer, le navigateur combine les deux et construit un nouvel arbre qu\'on appelle le <em>Render Tree</em> ou <em>Render Application</em>. A partir de celui-ci, toutes les informations sont disponibles pour faire le rendu de l\'application. Cependant, pour l\'instant, si on devait repr√©senter cet arbre sur une page, tous les √©l√©ments seraient en haut √† gauche.</p>\n</li>\n<li>\n<p>Pour les placer au bon endroit, on passe √† l\'√©tape du <em>Layout</em> (ou <em>Reflow</em>). Cette √©tape consiste √† d√©terminer comment agencer les √©l√©ments les uns par rapport aux autres. C\'est cette √©tape √† laquelle je vais m\'int√©resser dans cet article.</p>\n</li>\n<li>\n<p>Et enfin, le navigateur passe √† l\'√©tape du <em>Painting</em> qui sert √† afficher votre page sur votre navigateur.</p>\n</li>\n</ol>\n<p>Pour r√©sumer le tout en un seul diagramme, cela devrait ressembler √† √ßa¬†:</p>\n<figure tabindex="0">\n<img src="/images/posts/des-animations-performantes/browser-flow.png" alt="Sch√©ma repr√©sentant les 5 √©tapes sus-cit√©es">\n<figcaption>Fonctionnement de Webkit (<a href="https://www.html5rocks.com/en/tutorials/internals/howbrowserswork/#Main_flow_examples">source</a>)</figcaption>\n</figure>\n'},273:function(n,e){n.exports="<p>Faire bouger sa page web, c'est mettre des paillettes dans les yeux de ses utilisateurs.</p>\n<p>Le hic, c'est que ce n'est pas facile √† faire. Souvent, on se retrouve avec des maquettes qui mettent l'eau √† la bouche et on les massacre √† l'int√©gration. En g√©n√©ral, parti de ce constat, il ne reste plus que deux possibilit√©s : soit on d√©cide que c'est la faute du graphiste, soit on cherche et propose des solutions.</p>\n<p>Cela dit, c'est un sujet tr√®s vaste, qui m√©riterait bien plus que quelques articles. Je vais donc l'aborder par petits bouts. Cette premi√®re s√©rie d√©di√©e au sujet parlera des performances.</p>\n<p>Celle-ci sera d√©coup√©e en trois parties¬†:</p>\n<ol>\n<li><a href=\"/posts/des-animations-performantes-1\">Animer les bonnes propri√©t√©s CSS</a> (Vous √™tes ici.)</li>\n<li>Pr√©parer le navigateur aux animations</li>\n<li>Faire les choses dans le bon ordre en JS</li>\n</ol>\n<p>Ces trois parties seront assez th√©oriques et expliqueront qu'est ce qu'il faut √©viter et pourquoi. Il faudra attendre la deuxi√®me s√©rie sur les animations pour parler d'impl√©mentations concr√®tes.</p>\n"},274:function(n,e){n.exports='<h2 id="tldr"><a class="header-anchor" href="#tldr" aria-hidden="true">#</a> TL;DR</h2>\n<p>Essayez de n\'utiliser que les propri√©t√©s CSS qui ne changent pas la taille r√©elle des √©l√©ments. Celles qui vous √©viteront un maximum de probl√®mes sont¬†:</p>\n<ul>\n<li><code>transform</code></li>\n<li><code>opacity</code></li>\n</ul>\n<p>Le but de cet article va √™tre de comprendre pourquoi en examinant le fonctionnement des navigateurs.</p>\n'},275:function(n,e){n.exports='<h2 id="pourquoi-sinteresser-plus-particulierement-au-layout"><a class="header-anchor" href="#pourquoi-sinteresser-plus-particulierement-au-layout" aria-hidden="true">#</a> Pourquoi s\'int√©resser plus particuli√®rement au Layout¬†?</h2>\n<p>Parce que c\'est une √©tape tr√®s couteuse qui peut √™tre optimis√©e voire m√™me √©vit√©e. Il nous restera donc beaucoup plus de temps pour faire le reste.</p>\n<h3 id="pourquoi-couteuse"><a class="header-anchor" href="#pourquoi-couteuse" aria-hidden="true">#</a> Pourquoi couteuse ?</h3>\n<h4 id="en-theorie"><a class="header-anchor" href="#en-theorie" aria-hidden="true">#</a> En th√©orie</h4>\n<p>Si vous vous souvenez de ce que j\'ai dit, le <em>Layout</em> est l\'√©tape qui permet de dire comment et o√π va √™tre plac√© chacun de vos √©l√©ments sur la page.</p>\n<p>Pour faire cette op√©ration, le navigateur va prendre les balises de la page une par une et va les positionner. Pour ce faire, sur chaque balise, il a besoin de savoir :</p>\n<ul>\n<li>quelle place est disponible dans l\'√©l√©ment parent</li>\n<li>combien de place est n√©cessaire pour s\'afficher</li>\n</ul>\n<h4 id="en-pratique"><a class="header-anchor" href="#en-pratique" aria-hidden="true">#</a> En pratique</h4>\n<p>Sur un exemple concret, qu\'est ce que √ßa donne¬†?</p>\n'},276:function(n,e){n.exports='<p>Ici, l\'√©tape de <em>Layout</em> va commencer par repr√©senter la balise <code>nav</code>.</p>\n<p>Il calcule donc la position du titre et celui-ci se positionne √† gauche et prend le moins de place possible (<code>float: left</code>).</p>\n<p>Une fois que le titre a √©t√© positionn√©, place au menu. Il essaye alors de caler le maximum d\'√©l√©ments du menu sur une m√™me ligne (<code>display: inline-block</code>), √† droite du titre. S\'il n\'y arrive pas, il fait plusieurs lignes. Et si ce n\'est toujours pas possible, la liste passe sous le titre.</p>\n<p>Le positionnement de la navigation est fini et le navigateur peut passer √† la suite en positionnant de la m√™me fa√ßon le <code>main</code> qui sera en dessous du <code>nav</code>.</p>\n<h4 id="dans-le-cadre-dune-animation"><a class="header-anchor" href="#dans-le-cadre-dune-animation" aria-hidden="true">#</a> Dans le cadre d\'une animation</h4>\n<p>Maintenant, imaginons que vous changiez la taille de votre titre au survol.</p>\n<pre class="language-css"><code><span class="token selector">h1:hover</span> <span class="token punctuation">{</span> <span class="token property">font-size</span><span class="token punctuation">:</span> 2em<span class="token punctuation">;</span> <span class="token punctuation">}</span>\n</code></pre>\n<p>Cela veut dire que la taille que va prendre le titre va doubler. Mais cela veut aussi dire qu\'il reste moins de place pour la liste du menu, et donc qu\'elle va potentiellement passer sur plusieurs lignes et prendre plus de place en hauteur. Et si la navigation prend plus de place, le reste de la page va aussi descendre et donc a besoin d\'√™tre recalcul√©. Bref, il a besoin de tout recalculer √† partir de la seule balise qui a chang√© de style.</p>\n<p>En soit, qu\'il recalcule tout n\'est pas tr√®s grave parce que √† l\'√©chelle de l\'utilisateur ce n\'est pas tr√®s long. Par contre, si ce changement est anim√©, cela veut dire que chaque nouvel affichage prendra plus longtemps, et donc que l\'animation sera ralentie, voire <em>moche</em>.</p>\n<h3 id="comment-loptimiser"><a class="header-anchor" href="#comment-loptimiser" aria-hidden="true">#</a> Comment l\'optimiser¬†?</h3>\n<p>Pour √©viter d\'avoir √† tout recalculer √† chaque fois, on va essayer de ne plus changer le <em>Layout</em> √† chaque √©tape de l\'animation. C\'est possible parce que certaines propri√©t√©s ne changent pas le <em>flow</em> de la page.</p>\n<p>C\'est valable notamment pour toutes les propri√©t√©s qui affectent les couleurs (dont <code>opacity</code>), mais aussi pour la propri√©t√© <code>transform</code> √©tant donn√© que celle-ci n\'a pas d\'impact sur le reste des √©l√©ments.</p>\n<h3 id="comment-savoir-si-la-propriete-est-bonne-ou-mauvaise"><a class="header-anchor" href="#comment-savoir-si-la-propriete-est-bonne-ou-mauvaise" aria-hidden="true">#</a> Comment savoir si la propri√©t√© est bonne ou mauvaise¬†?</h3>\n<p>Pour le constater par vous m√™me, vous pouvez ouvrir vos DevTools dans votre navigateur pr√©f√©r√© et aller dans l\'onglet permettant d\'inspecter les performances de votre application (<em>Timeline</em> sur Chrome&amp;Co, <em>Performance</em> sur Firefox). Une fois sur l\'onglet, il vous faut enregistrer une s√©quence pendant laquelle vous lancerez manuellement votre animation.</p>\n<figure tabindex="0">\n<img src="/images/posts/des-animations-performantes/layout.png" alt="Timeline Google Chrome avec du Layout" />\n<figcaption>Voici √† quoi ressemble la Timeline enregistr√©e via Chrome</figcaption>\n</figure>\n<p>Et ce qui va vous int√©resser, c\'est la partie violette (commun √† tous les DevTools) o√π il y a √©crit <em>Layout</em>. Si elle est pr√©sente tout au long de votre animation, c\'est que votre animation est couteuse. Et, bien que cela puisse s\'afficher correctement dans votre navigateur, pensez aux mobiles qui auront du mal √† suivre le rythme¬†!</p>\n<p>Il est important de faire le test sur plusieurs navigateurs car l\'animation peut √™tre rapide sur l\'un et lente sur l\'autre.</p>\n<p>Vous pouvez aussi regarder sur <a href="https://csstriggers.com/">CSS Triggers</a>. Mais m√©fiez vous de ce qu\'il vous dit car je suis tomb√© sur quelques incoh√©rences par rapport √† ce que j\'ai constat√© dans les DevTools.</p>\n<h2 id="conclusion"><a class="header-anchor" href="#conclusion" aria-hidden="true">#</a> Conclusion</h2>\n<p>Voil√†, vous savez maintenant comment bien choisir vos propri√©t√©s CSS et surtout comment √©viter celles qui vous pourriront vos animations.</p>\n<p>Le seul probl√®me, c\'est que ce n\'est pas √©vident de penser de cette fa√ßon quand on d√©bute. Mais avec un peu d\'imagination, c\'est tout √† fait possible de n\'animer qu\'en utilisant ces propri√©t√©s. Si vous √™tes impatients vous pouvez d√©j√† vous int√©resser √† la technique <a href="https://aerotwist.com/blog/flip-your-animations/">FLIP</a> pr√©sent√©e par <a href="https://twitter.com/aerotwist">@aerotwist</a>. Sinon, vous pouvez attendre ma nouvelle s√©rie d\'articles sur le sujet dans 3-4 semaines. :)</p>\n<p>La semaine prochaine, toujours sur les performances, nous verrons qu\'il est possible d\'optimiser aussi les phases de <code>Painting</code>. Alors √† tr√®s vite :)</p>\n<hr>\n<p>En attendant, voici quelques sources pour vous permettre d\'approfondir le sujet¬†:</p>\n<ul>\n<li><a href="https://www.html5rocks.com/en/tutorials/internals/howbrowserswork/#Main_flow_examples">How Browsers Work</a></li>\n<li><a href="https://blog.gyrosco.pe/smooth-css-animations-7d8ffc2c1d29#.5nmo6c7wj">10 principles for smooth web animations</a></li>\n<li><a href="https://aerotwist.com/blog/flip-your-animations/">FLIP Your Animations</a></li>\n</ul>\n'}});
//# sourceMappingURL=0.6a38f0dd499b02e6f5db.js.map